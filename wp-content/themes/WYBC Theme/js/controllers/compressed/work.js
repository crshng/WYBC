App.controller("workController",["$scope","$sce","$route","$routeParams","$location","pages","urlhelper","$window",function(t,e,i,n,o,a,r,l){r.currentSection="archive";var s=this;this.workName=o.path(),this.routeParams=n,this.singleWork="",this.title="",this.excerpt="",this.links="",this.contents=[],this.viewPlay=!1,s.localData=null,this.isInView=function(t,e,i,n){e.inViewTarget.children[1].play&&e.inViewTarget.children[1].pause&&(t?(e.inViewTarget.children[1].play(),s.viewPlay=e.inViewTarget.attributes.vid.nodeValue):e.inViewTarget.children[1].pause())},a.getWorkData().then(function(t){s.localData=t.data.filter(function(t){return t.url===s.workName+"/"})[0],"undefined"!=typeof s.localData?("undefined"!=typeof s.localData.id?$("body").removeClass().addClass("p-"+s.localData.id):$("body").removeClass(),document.title=s.htmldecode(s.localData.title)+" | CHIPS"):console.log("404")}),this.trustHTML=function(t){return e.trustAsHtml(t)},this.captionWidthClass=function(t){if("bottom"!==t.caption_positioning){var e=t.grid_cols,i=t.grid_offset,n="";return"left"===t.caption_positioning?n=" g"+i:"right"===t.caption_positioning?n=" g"+(8-e-i)+" o"+(e+i):""}},this.col2Width=function(t,e){return"g"+(8-t-e)},this.htmldecode=function(t){var e=document.createElement("div");return e.innerHTML=t,e.innerText}}]);