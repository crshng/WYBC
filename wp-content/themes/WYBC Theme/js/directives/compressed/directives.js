App.directive("hoverThumb",function(){return{restrict:"A",link:function(e,i){"overlayLink"===i[0].className?(i.bind("mouseover",function(){angular.element(i).siblings("img").addClass("hovered")}),i.bind("mouseout",function(){angular.element(i).siblings("img").removeClass("hovered")})):(i.bind("mouseover",function(){i.addClass("hovered")}),i.bind("mouseout",function(){i.removeClass("hovered")}))}}}),App.directive("hoverClass",function(){return{restrict:"C",link:function(e,i){i.bind("mouseover",function(){i.addClass("hovered")}),i.bind("mouseout",function(){i.removeClass("hovered")})}}}),App.directive("imgbg",[function(){return{restrict:"A",scope:{imgbg:"@"},link:function(e,i,a){if("undefined"!=typeof e.imgbg){var o=$(i),n=e.imgbg;o.css({"background-image":"url("+n+")"}).find(".preload").remove()}}}}]),App.directive("imgbglazy",[function(){return{restrict:"A",scope:{imgbg:"@"},link:function(e,i,a){if("undefined"!=typeof e.imgbg){var o=$(i),n=e.imgbg;o.hasClass("lazyload")||(o.addClass("toload"),o.parent().addClass("loadParent")),o.append('<img class="preload" src="'+n+'" width="1" height="1"/>').imagesLoaded(function(){o.css({"background-image":"url("+n+")"}).find(".preload").remove(),o.addClass("loaded").trigger("imageload")})}else $(i).remove()}}}]),App.directive("vimeo",function(){this.allowPlay=!0;var e=this;return{restrict:"E",replace:!0,scope:{title:"@"},templateUrl:"/wp-content/themes/chips-ng/views/video-iframe.html",link:function(i,a,o){var n="Vid"+Math.floor(1e9*Math.random());a[0].setAttribute("id",n);var r="http://player.vimeo.com/video/"+o.vid+"?title=0&byline=0&portrait=0&loop=1&api=1&player_id="+n;"scroll"==o.ui&&(r+="&autoplay=true"),a.attr("src",r);var t=a[0];player=$f(t);var l=player;l.addEvent("ready",function(){l.api("setVolume",0),"hover"==o.ui&&(a.bind("click",function(){e.allowPlay===!0?(e.allowPlay=!1,l.api("pause")):(e.allowPlay=!0,l.api("play"))}),a.bind("mouseenter",function(){e.allowPlay===!0&&l.api("play")}),a.bind("mouseleave",function(){e.allowPlay===!0&&l.api("pause")})),"scroll"==o.ui&&o.$observe("viewPlay",function(e){o.inView&&("true"==e?l.api("play"):l.api("pause"))})})}}});